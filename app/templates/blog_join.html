{% extends "base.html" %}

{% block body_class %}blog-join-page d-flex flex-column{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/blog_join.css') }}">
<style>
/* éšè—blog_joiné¡µé¢çš„é¡µè„š */
.blog-join-page .footer {
    display: none !important;
}
</style>
{% endblock %}

{% block content %}
<!-- BLOG ä¸ŠåŠéƒ¨åˆ† -->
<section class="blog-join-section blog-section">
    <div class="blog-join-container">
        <h2 class="blog-join-title">BLOG</h2>
        <div class="blog-join-cards">
            <div class="blog-join-card card-01">
                <div class="blog-join-card-content">
                    <h3><i class="fas fa-newspaper me-2"></i>é«˜è¾¾èµ„è®¯ä¸­å¿ƒ</h3>
                    <p>æœ€æ–°æœºä½“å‘å¸ƒã€å®˜æ–¹èµ„è®¯ã€æ¨¡å‹æ–°å“é€Ÿè§ˆã€‚è·å–ä¸€æ‰‹é«˜è¾¾åŠ¨æ€ï¼Œè¿½è¸ªæœ€æ–°è®¾å®šé›†å’Œå®˜æ–¹å…¬å‘Šã€‚</p>
                    <div class="blog-links">
                        <a href="https://gundam.fandom.com/wiki/The_Gundam_Wiki" target="_blank" class="card-link-btn">
                            <i class="fas fa-external-link-alt me-1"></i>å®˜æ–¹Wiki
                        </a>
                        <a href="https://gundam.info/" target="_blank" class="card-link-btn">
                            <i class="fas fa-globe me-1"></i>Gundam.Info
                        </a>
                    </div>
                </div>
            </div>
            <div class="blog-join-card card-02">
                <div class="blog-join-card-content">
                    <h3><i class="fas fa-users me-2"></i>é«˜è¾¾ç¤¾åŒºå¯¼èˆª</h3>
                    <p>å›½å†…ä¸»è¦é«˜è¾¾ç¤¾åŒºã€è®ºå›ã€èµ„æºèšé›†åœ°ã€‚è¿æ¥å…¨çƒé«˜è¾¾çˆ±å¥½è€…ï¼Œåˆ†äº«æ¨¡å‹åˆ¶ä½œå¿ƒå¾—ã€‚</p>
                    <div class="community-links">
                        <a href="https://space.bilibili.com/928123/" target="_blank" class="community-tag">
                            <i class="fab fa-bilibili me-1"></i>Bç«™ç™¾ç§‘
                        </a>
                        <a href="https://tieba.baidu.com/f?kw=é«˜è¾¾" target="_blank" class="community-tag">
                            <i class="fas fa-comments me-1"></i>é«˜è¾¾è´´å§
                        </a>
                        <a href="https://bbs.nga.cn/thread.php?fid=436" target="_blank" class="community-tag">
                            <i class="fas fa-gamepad me-1"></i>NGAæ¨¡ç©
                        </a>
                        <a href="https://www.reddit.com/r/Gundam/" target="_blank" class="community-tag">
                            <i class="fab fa-reddit me-1"></i>Reddit
                        </a>
                    </div>
                    <div class="community-stats">
                        <span class="stat-item"><i class="fas fa-user-friends"></i> 100K+ ç”¨æˆ·</span>
                        <span class="stat-item"><i class="fas fa-comments"></i> æ¯æ—¥æ´»è·ƒè®¨è®º</span>
                    </div>
                </div>
            </div>
            <div class="blog-join-card card-03">
                <div class="blog-join-card-content">
                    <h3><i class="fas fa-music me-2"></i>é«˜è¾¾æ›²åº“</h3>
                    <p>æ”¶å½•å„ç³»åˆ—ç»å…¸BGMï¼Œä¸€ç«™å¼éŸ³ä¹ä½“éªŒä¸­å¿ƒ</p>
                    <div class="music-player">
                        <div class="music-info">
                            <div class="music-info-left">
                                <span class="music-title">â™ª Gundam Music Library</span>
                                <span class="music-desc">å½“å‰ï¼šShowcase Theme</span>
                            </div>
                            <div class="music-info-right">
                                <span class="playlist-count">æ›²åº“ï¼š5é¦–ç²¾é€‰BGM</span>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="time-display">
                                <span class="current-time" id="currentTime">0:00</span>
                                <span class="duration" id="duration">0:00</span>
                            </div>
                        </div>
                        <div class="music-controls">
                            <button class="music-btn play-btn" id="playBtn" title="æ’­æ”¾/æš‚åœ">â–¶</button>
                            <button class="music-btn prev-btn" id="prevBtn" title="ä¸Šä¸€é¦–">â®</button>
                            <button class="music-btn next-btn" id="nextBtn" title="ä¸‹ä¸€é¦–">â­</button>
                            <div class="volume-control">
                                <button class="music-btn volume-btn" id="volumeBtn" title="éŸ³é‡">ğŸ”Š</button>
                                <div class="volume-panel" id="volumePanel">
                                    <input type="range" class="volume-slider-vertical" id="volumeSlider" min="0" max="100" value="50" orient="vertical" title="éŸ³é‡æ§åˆ¶">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å³ä¾§ä¸ªäººä¿¡æ¯å¡ç‰‡ -->
        <div class="blog-profile">
            <div class="blog-profile-header">
                <a href="https://github.com/yourusername" target="_blank" class="blog-profile-avatar">
                    <img src="{{ url_for('static', filename='images/blog/head.jpg') }}" alt="å¤´åƒ">
                </a>
                <h3>ä¸‰æ°´æ°´ä¸‰å¤©</h3>
                <p>ç”Ÿå‘½ä¸æ¯,å­¦ä¹ ä¸æ­¢</p>
            </div>
            <div class="blog-profile-tags">
                <h3>TAG</h3>
                <p>C&emsp;&emsp;C++ &emsp;C#&emsp; HTML&emsp;&emsp;CSS&emsp;&emsp;Java&emsp;&emsp;JavaScript&emsp;Unity&emsp;&emsp;UnrealEngine&emsp;Python &emsp; æ¸²æŸ“ &emsp;gameplay</p>
            </div>
        </div>
    </div>
</section>

<!-- JOIN ä¸‹åŠéƒ¨åˆ† -->
<section class="blog-join-section join-section">
    <div class="join-background">
    <div class="blog-join-container join-container">
            <h2 class="blog-join-title join-title">
                <i class="fas fa-rocket me-3"></i>
                JOIN / åŠ å…¥æˆ‘ä»¬
            </h2>
            <p class="join-subtitle">ä¸€èµ·æ„å»ºé«˜è¾¾ä¸–ç•Œï¼Œå…±åŒæ‰“é€ æ›´å¥½çš„é«˜è¾¾ä¿¡æ¯å¹³å°</p>
            
            <div class="join-sections-wrapper">
                <div class="join-goal-section">
                    <h3><i class="fas fa-bullseye me-2"></i>GOAL / ç›®æ ‡</h3>
                    <p>å»ºç«‹ä¼˜ç§€çš„æ¸¸æˆåˆ¶ä½œå›¢é˜Ÿï¼Œæˆä¸ºä¼˜ç§€çš„æ¸¸æˆåˆ¶ä½œè€…ï¼Œåˆ›é€ å—äººå–œçˆ±çš„è™šæ‹Ÿä¸–ç•Œã€‚æˆ‘ä»¬è‡´åŠ›äºå°†é«˜è¾¾IPä¸ç°ä»£æ¸¸æˆæŠ€æœ¯ç›¸ç»“åˆï¼Œä¸ºå…¨çƒé«˜è¾¾çˆ±å¥½è€…æ‰“é€ æ²‰æµ¸å¼ä½“éªŒã€‚</p>
                </div>
                
                <div class="join-opportunities-section">
                    <h3><i class="fas fa-users me-2"></i>JOIN OPPORTUNITIES / åŠ å…¥æœºä¼š</h3>
                    <div class="opportunities-grid">
                        <div class="opportunity-card">
                            <div class="opportunity-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h4>å‰ç«¯å¼€å‘</h4>
                            <p>HTML/CSS/JavaScript<br>React/Vue</p>
                            <span class="status available">å¼€æ”¾æ‹›å‹Ÿ</span>
                        </div>
                        <div class="opportunity-card">
                            <div class="opportunity-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <h4>åç«¯å¼€å‘</h4>
                            <p>Python/Flask<br>Node.js, æ•°æ®åº“è®¾è®¡</p>
                            <span class="status available">å¼€æ”¾æ‹›å‹Ÿ</span>
                        </div>
                        <div class="opportunity-card">
                            <div class="opportunity-icon">
                                <i class="fas fa-paint-brush"></i>
                            </div>
                            <h4>UI/UXè®¾è®¡</h4>
                            <p>ç•Œé¢è®¾è®¡<br>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</p>
                            <span class="status recruiting">ç§¯ææ‹›å‹Ÿ</span>
                        </div>
                    </div>
                </div>
                
                <div class="join-contact-section">
                    <h3><i class="fas fa-envelope me-2"></i>CONTACT / è”ç³»æ–¹å¼</h3>
                    <div class="contact-grid">
                        <div class="contact-item">
                            <i class="fab fa-github"></i>
                            <span>GitHub: <a href="https://github.com/yourusername" target="_blank">@YourTeam</a></span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>Email: 2207050889@qq.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-mobile-alt"></i>
                            <span>æ‰‹æœº: 15259767602</span>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-qq"></i>
                            <span>QQç¾¤: 719878582</span>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-bilibili"></i>
                            <span>Bç«™: ä¼ å¥‡èµ›é©±å‡ºæ°´èŠ™è“‰</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-comments"></i>
                            <span>è´´å§: ID471005383</span>
                        </div>
                    </div>
                    <div class="join-actions">
                        <button class="join-btn primary" id="joinTeamBtn">
                            <i class="fas fa-rocket me-2"></i>ç”³è¯·åŠ å…¥å›¢é˜Ÿ
                        </button>
                        <button class="join-btn secondary" id="learnMoreBtn">
                            <i class="fas fa-info-circle me-2"></i>äº†è§£æ›´å¤š
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½ - ä¸å…¨å±€éŸ³æ•ˆç³»ç»Ÿé›†æˆ + æ›²åº“åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    const playBtn = document.getElementById('playBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const volumeBtn = document.getElementById('volumeBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    
    let isPlaying = false;
    let audio = null;
    let currentTrackIndex = 0;
    
    // é«˜è¾¾æ›²åº“åˆ—è¡¨
    const playlist = [
        {
            name: 'é£å§ï¼é«˜è¾¾',
            file: '{{ url_for("static", filename="audio/æ± ç”°é´» - ç¿”ã¹ï¼ã‚¬ãƒ³ãƒ€ãƒ  (é£å§ï¼é«˜è¾¾).ogg") }}',
            description: 'å…ƒç¥–é«˜è¾¾ä¸»é¢˜æ›²'
        },
        {
            name: 'Cant you see?',
            file: '{{ url_for("static", filename="audio/æ¤åæµ - ã„ã¤ã‹ç©ºã«å±Šã„ã¦.ogg") }}',
            description: 'å£è¢‹æˆ˜äº‰ç¥æ›²'
        },
        {
            name: 'æ°¸ä¸–ã®æ‘‡ç¯®',
            file: '{{ url_for("static", filename="audio/éˆ´è¯å„ªå­ - æ°¸ä¸–ã®ã‚¯ãƒ¬ã‚¤ãƒ‰ãƒ« (æ°¸ä¸–çš„æ‘‡ç¯®).ogg") }}',
            description:'"ç”¨çƒ‚äº†"'
        },
        {
            name: '08MSå°é˜Ÿ',
            file: '{{ url_for("static", filename="audio/ç±³ä»“åƒå¯» - åµã®ä¸­ã§è¼ã„ã¦ (æš´é£é›¨ä¸­çš„å…‰è¾‰).ogg") }}',
            description: 'æˆ‘å–œæ¬¢çˆ±å¨œ'
        },
        {
            name: 'Zã®OP1',
            file: '{{ url_for("static", filename="audio/é®å·éº»å¼¥ - Zãƒ»åˆ»ã‚’ã“ãˆã¦(ãƒ¯ãƒ³ã‚³ãƒ¼ãƒ©ã‚¹).ogg") }}',
            description: 'å†ä¹Ÿä¸ç©æŠ½è±¡äº†'
        },
        {
            name: 'æš´é£é›¨ä¸­çš„å…‰è¾‰',
            file: '{{ url_for("static", filename="audio/æ¾åŸã¿ã - The Winner (èµ¢å®¶).ogg") }}',
            description: 'æˆ‘è„¸å´©äº†'
        },
        {
            name: 'Trust you',
            file: '{{ url_for("static", filename="audio/ä¼Šè—¤ç”±å¥ˆ - trust you.ogg") }}',
            description: 'ç¥ä¸­ç¥é¡¶ä¸­é¡¶'
        },
        {
            name: 'reason',
            file: '{{ url_for("static", filename="audio/ç‰ç½®æˆå® - Reason.ogg") }}',
            description: 'è¿˜ä¼šå†è§é¢å—'
        },
        {
            name: 'æˆ‘ä»¬æ›¾å¦‚æ­¤ç›¸ä¼¼',
            file: '{{ url_for("static", filename="audio/See-Saw - å›ã¯åƒ•ã«ä¼¼ã¦ã„ã‚‹ (ä½ ä¸æˆ‘ç›¸ä¼¼).ogg") }}',
            description: 'æ¢¦ä»€ä¹ˆæ—¶å€™é†’'
        },
        {
            name: 'Two-Mix',
            file: '{{ url_for("static", filename="audio/TWO-MIX - JUST COMMUNICATION NEXTII (TYPEII).ogg") }}',
            description: 'æˆ‘æ°¸è¿œå–œæ¬¢é«˜è¾¾'
        },
        {
            name: 'å°è‹å…°',
            file: '{{ url_for("static", filename="audio/Uru - ãƒ•ãƒªãƒ¼ã‚¸ã‚¢ (TV size).ogg") }}',
            description: 'ä¸è¦åœä¸‹æ¥...'
        },   
    ];
    
    // æ›´æ–°æ›²ç›®ä¿¡æ¯æ˜¾ç¤º
    function updateTrackInfo() {
        const musicTitle = document.querySelector('.music-title');
        const musicDesc = document.querySelector('.music-desc');
        const playlistCount = document.querySelector('.playlist-count');
        
        if (musicTitle) musicTitle.textContent = `â™ª ${playlist[currentTrackIndex].name}`;
        if (musicDesc) musicDesc.textContent = `å½“å‰ï¼š${playlist[currentTrackIndex].description}`;
        if (playlistCount) playlistCount.textContent = `${currentTrackIndex + 1}/${playlist.length} é¦–BGM`;
    }
    
    // åˆ›å»ºéŸ³é¢‘å¯¹è±¡
    function initAudio() {
        if (audio) {
            audio.pause();
            audio = null;
        }
        
        audio = new Audio();
        audio.loop = true;
        audio.volume = volumeSlider.value / 100;
        audio.src = playlist[currentTrackIndex].file;
        
        // éŸ³é¢‘åŠ è½½é”™è¯¯å¤„ç†
        audio.addEventListener('error', function() {
            console.warn(`éŸ³é¢‘æ–‡ä»¶åŠ è½½å¤±è´¥: ${playlist[currentTrackIndex].name}`);
            // å°è¯•ä¸‹ä¸€é¦–
            if (currentTrackIndex < playlist.length - 1) {
                currentTrackIndex++;
                updateTrackInfo();
                initAudio();
            }
        });
        
        audio.addEventListener('loadeddata', function() {
            console.log(`âœ… éŸ³é¢‘åŠ è½½æˆåŠŸ: ${playlist[currentTrackIndex].name}`);
            updateProgress(); // åˆå§‹åŒ–è¿›åº¦æ˜¾ç¤º
        });
        
        // æ·»åŠ æ—¶é—´æ›´æ–°ç›‘å¬
        audio.addEventListener('timeupdate', updateProgress);
        
        // æ·»åŠ éŸ³é¢‘ç»“æŸç›‘å¬ï¼ˆè‡ªåŠ¨ä¸‹ä¸€é¦–ï¼‰
        audio.addEventListener('ended', function() {
            if (nextBtn) {
                nextBtn.click(); // è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é¦–
            }
        });
    }
    
    // æ’­æ”¾/æš‚åœåŠŸèƒ½
    if (playBtn) {
        playBtn.addEventListener('click', function() {
            // æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.4);
            }
            
            if (!audio) {
                initAudio();
            }
            
            if (!isPlaying) {
                // åœæ­¢æ‰€æœ‰å…¶ä»–èƒŒæ™¯éŸ³ä¹
                if (window.audioManager) {
                    window.audioManager.stopBackgroundMusic();
                }
                
                playBtn.textContent = 'â¸';
                playBtn.style.background = 'rgba(0, 225, 255, 0.4)';
                isPlaying = true;
                
                // æ’­æ”¾åŠ¨ç”»æ•ˆæœ
                playBtn.style.animation = 'pulse 2s infinite';
                
                // å°è¯•æ’­æ”¾éŸ³é¢‘
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(e => {
                        console.log('Audio play failed:', e);
                        isPlaying = false;
                        playBtn.textContent = 'â–¶';
                        playBtn.style.background = 'rgba(0, 225, 255, 0.2)';
                        playBtn.style.animation = 'none';
                    });
                }
                
                console.log(`ğŸµ å¼€å§‹æ’­æ”¾: ${playlist[currentTrackIndex].name}`);
            } else {
                playBtn.textContent = 'â–¶';
                playBtn.style.background = 'rgba(0, 225, 255, 0.2)';
                playBtn.style.animation = 'none';
                isPlaying = false;
                
                audio.pause();
                console.log(`â¸ æš‚åœæ’­æ”¾: ${playlist[currentTrackIndex].name}`);
            }
        });
    }
    
    // ä¸Šä¸€é¦–
    if (prevBtn) {
        prevBtn.addEventListener('click', function() {
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.3);
            }
            
            currentTrackIndex = currentTrackIndex > 0 ? currentTrackIndex - 1 : playlist.length - 1;
            updateTrackInfo();
            
            if (isPlaying) {
                initAudio();
                audio.play().catch(e => console.log('Failed to play previous track:', e));
            } else {
                initAudio();
            }
            
            console.log(`â® åˆ‡æ¢åˆ°ä¸Šä¸€é¦–: ${playlist[currentTrackIndex].name}`);
        });
    }
    
    // ä¸‹ä¸€é¦–
    if (nextBtn) {
        nextBtn.addEventListener('click', function() {
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.3);
            }
            
            currentTrackIndex = currentTrackIndex < playlist.length - 1 ? currentTrackIndex + 1 : 0;
            updateTrackInfo();
            
            if (isPlaying) {
                initAudio();
                audio.play().catch(e => console.log('Failed to play next track:', e));
            } else {
                initAudio();
            }
            
            console.log(`â­ åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–: ${playlist[currentTrackIndex].name}`);
        });
    }
    
    // éŸ³é¢‘è¿›åº¦æ›´æ–°
    function updateProgress() {
        if (audio && audio.duration) {
            const progressFill = document.getElementById('progressFill');
            const currentTimeEl = document.getElementById('currentTime');
            const durationEl = document.getElementById('duration');
            
            const progress = (audio.currentTime / audio.duration) * 100;
            if (progressFill) progressFill.style.width = progress + '%';
            
            if (currentTimeEl) currentTimeEl.textContent = formatTime(audio.currentTime);
            if (durationEl) durationEl.textContent = formatTime(audio.duration);
        }
    }
    
    // æ—¶é—´æ ¼å¼åŒ–
    function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
    }
    
    // è¿›åº¦æ¡ç‚¹å‡»è·³è½¬
    function setupProgressBar() {
        const progressBar = document.querySelector('.progress-bar');
        if (progressBar) {
            progressBar.addEventListener('click', function(e) {
                if (audio && audio.duration) {
                    const rect = this.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const newTime = (clickX / rect.width) * audio.duration;
                    audio.currentTime = newTime;
                    
                    if (window.audioManager) {
                        window.audioManager.playSound('click', 0.2);
                    }
                }
            });
        }
    }
    
    // å‚ç›´éŸ³é‡æ§åˆ¶
    function setupVolumeControl() {
        const volumeBtn = document.getElementById('volumeBtn');
        const volumePanel = document.getElementById('volumePanel');
        const volumeSlider = document.getElementById('volumeSlider');
        
        if (volumeBtn && volumePanel) {
            // ç‚¹å‡»éŸ³é‡æŒ‰é’®æ˜¾ç¤º/éšè—é¢æ¿
            volumeBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                volumePanel.classList.toggle('show');
                
                if (window.audioManager) {
                    window.audioManager.playSound('click', 0.3);
                }
            });
            
            // ç‚¹å‡»å¤–éƒ¨å…³é—­é¢æ¿
            document.addEventListener('click', function(e) {
                if (!volumePanel.contains(e.target) && e.target !== volumeBtn) {
                    volumePanel.classList.remove('show');
                }
            });
            
            // é˜²æ­¢é¢æ¿å†…ç‚¹å‡»å…³é—­
            volumePanel.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
        
        if (volumeSlider) {
            volumeSlider.addEventListener('input', function() {
                const volume = this.value / 100;
                if (audio) {
                    audio.volume = volume;
                }
                
                // æ›´æ–°éŸ³é‡å›¾æ ‡
                if (volumeBtn) {
                    if (volume === 0) {
                        volumeBtn.textContent = 'ğŸ”‡';
                    } else if (volume < 0.5) {
                        volumeBtn.textContent = 'ğŸ”‰';
                    } else {
                        volumeBtn.textContent = 'ğŸ”Š';
                    }
                }
            });
        }
    }
    
    // åˆå§‹åŒ–æ˜¾ç¤º
    updateTrackInfo();
    
    // åˆå§‹åŒ–è¿›åº¦æ¡å’ŒéŸ³é‡æ§åˆ¶
    setupProgressBar();
    setupVolumeControl();
    
    console.log('ğŸµ é«˜è¾¾æ›²åº“ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼Œå…±', playlist.length, 'é¦–æ›²ç›®');
    
    // ä¸ºå¡ç‰‡æ·»åŠ hoveréŸ³æ•ˆ
    document.querySelectorAll('.blog-join-card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            if (window.audioManager) {
                window.audioManager.playSound('hover', 0.2);
            }
        });
    });
    
    // ä¸ºç¤¾åŒºæ ‡ç­¾æ·»åŠ éŸ³æ•ˆ
    document.querySelectorAll('.community-tag').forEach(tag => {
        tag.addEventListener('mouseenter', () => {
            if (window.audioManager) {
                window.audioManager.playSound('hover', 0.15);
            }
        });
    });
});

// æ’­æ”¾æŒ‰é’®è„‰åŠ¨åŠ¨ç”»
const style = document.createElement('style');
style.textContent = `
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(0, 225, 255, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(0, 225, 255, 0); }
        100% { box-shadow: 0 0 0 0 rgba(0, 225, 255, 0); }
    }
`;
document.head.appendChild(style);

// JOINéƒ¨åˆ†æ‡’åŠ è½½ç³»ç»Ÿ
function initJoinLazyLoad() {
    const joinSection = document.querySelector('.join-section');
    const joinContainer = document.querySelector('.join-container');
    
    if (!joinSection || !joinContainer) return;
    
    // åˆå§‹éšè—JOINå†…å®¹
    joinContainer.style.opacity = '0';
    joinContainer.style.transform = 'translateY(30px)';
    joinContainer.style.transition = 'all 0.8s ease-out';
    
    // æ£€æŸ¥å…ƒç´ æ˜¯å¦è¿›å…¥è§†å£
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top < window.innerHeight && 
            rect.bottom > 0
        );
    }
    
    // æ»šåŠ¨ç›‘å¬
    function checkJoinVisibility() {
        if (isInViewport(joinSection) && joinContainer.style.opacity === '0') {
            joinContainer.style.opacity = '1';
            joinContainer.style.transform = 'translateY(0)';
            console.log('âœ¨ JOINéƒ¨åˆ†å·²åŠ è½½');
            
            // ç§»é™¤ç›‘å¬å™¨ï¼Œé¿å…é‡å¤è§¦å‘
            window.removeEventListener('scroll', checkJoinVisibility);
        }
    }
    
    // æ·»åŠ æ»šåŠ¨ç›‘å¬
    window.addEventListener('scroll', checkJoinVisibility);
    
    // åˆå§‹æ£€æŸ¥ï¼ˆå¦‚æœç”¨æˆ·ç›´æ¥è·³è½¬åˆ°é¡µé¢åº•éƒ¨ï¼‰
    setTimeout(checkJoinVisibility, 100);
}

// JOINæŒ‰é’®äº¤äº’
function initJoinInteractions() {
    const joinBtn = document.getElementById('joinTeamBtn');
    const learnMoreBtn = document.getElementById('learnMoreBtn');
    
    if (joinBtn) {
        joinBtn.addEventListener('click', function() {
            // æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.5);
            }
            
            // ç®€å•çš„è”ç³»æç¤º
            alert('æ„Ÿè°¢æ‚¨çš„å…´è¶£ï¼\n\nè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š\nâ€¢ QQç¾¤ï¼š719878582\nâ€¢ é‚®ç®±ï¼š2207050889@qq.com\nâ€¢ æ‰‹æœºï¼š15259767602\n\næˆ‘ä»¬æœŸå¾…ä¸æ‚¨çš„åˆä½œï¼');
            
            console.log('ğŸš€ æ˜¾ç¤ºè”ç³»ä¿¡æ¯');
        });
    }
    
    if (learnMoreBtn) {
        learnMoreBtn.addEventListener('click', function() {
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.4);
            }
            
            // å±•å¼€æ›´å¤šä¿¡æ¯
            alert('æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹æˆ‘ä»¬çš„GitHubä»“åº“æˆ–ç›´æ¥è”ç³»å›¢é˜Ÿï¼\n\næˆ‘ä»¬æœŸå¾…å¿—åŒé“åˆçš„å¼€å‘è€…åŠ å…¥è¿™ä¸ªé«˜è¾¾é¡¹ç›®ã€‚');
        });
    }
    
    // ä¸ºèŒä½å¡ç‰‡æ·»åŠ ç‚¹å‡»éŸ³æ•ˆ
    document.querySelectorAll('.opportunity-card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            if (window.audioManager) {
                window.audioManager.playSound('hover', 0.15);
            }
        });
        
        card.addEventListener('click', () => {
            if (window.audioManager) {
                window.audioManager.playSound('click', 0.3);
            }
        });
    });
    
    // ä¸ºè”ç³»æ–¹å¼æ·»åŠ éŸ³æ•ˆ
    document.querySelectorAll('.contact-item').forEach(item => {
        item.addEventListener('mouseenter', () => {
            if (window.audioManager) {
                window.audioManager.playSound('hover', 0.1);
            }
        });
    });
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ•ˆæœ
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–JOINæ‡’åŠ è½½ç³»ç»Ÿ
    initJoinLazyLoad();
    
    // å»¶è¿Ÿåˆå§‹åŒ–JOINäº¤äº’ï¼Œè®©é¡µé¢å…ˆæ¸²æŸ“
    setTimeout(() => {
        initJoinInteractions();
    }, 500);
});
</script>
{% endblock %} 
{% extends "base.html" %}
{% block title %}é«˜è¾¾ä¿¡æ¯å±•ç¤ºå¹³å°{% endblock %}

{% block body_class %}homepage{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/default_images.css') }}">

{% endblock %}

{% block content %}
<!-- Hero Section (Part 1 of new homepage) -->
<section id="hero-section" class="full-viewport-section">
    <div id="hero-section-content-wrapper">
        <!-- Main title and description - Orbitron font and gradient text effects are in style.css -->
        <h1 class="display-4 fw-bold">Gundam Information Display Platform</h1>
        <p class="lead mb-4">æ¢ç´¢æœºåŠ¨æˆ˜å£«é«˜è¾¾çš„å®‡å®™ï¼Œäº†è§£å„ç³»åˆ—ç»å…¸æœºä½“çš„å†å²ä¸æŠ€æœ¯</p>
        <!-- ç®€åŒ–çš„æŒ‰é’®ç»“æ„ -->
        <a href="#introduction-section" class="neon-button-wrapper" id="startNowBtn">
            <div class="neon-button">START NOW</div>
        </a>
    </div>
</section>

<!-- Introduction Section (Part 2 of new homepage - with image hover, frosted glass, and parallax) -->
<section id="introduction-section"> 
    <div class="container pt-2 pb-5"> <!-- å°† py-5 æ”¹ä¸º pt-2 pb-5ï¼Œå‡å°‘é¡¶éƒ¨é—´è· -->
        <!-- Introduction Content (Text and Image) -->
        <div class="row align-items-center mb-4"> <!-- å‡å°‘åº•éƒ¨é—´è· mb-5 æ”¹ä¸º mb-4 -->
            <div class="col-lg-7 text-lg-start text-center">
                <h2 class="fw-bold mb-4 title-interactive section-title">About Gundam Series</h2> <!-- Added .section-title for consistency -->
                <p class="fs-5 mb-3 section-desc"> <!-- Added .section-desc -->
                    é«˜è¾¾ï¼ˆGUNDAMï¼‰æ˜¯æ—¥æœ¬SUNRISEå…¬å¸æ¨å‡ºçš„ç§‘å¹»æœºå™¨äººåŠ¨ç”»ç³»åˆ—ï¼Œå§‹äº1979å¹´çš„ã€ŠæœºåŠ¨æˆ˜å£«é«˜è¾¾ã€‹ã€‚ä½œä¸ºç°å®ç³»æœºå™¨äººåŠ¨ç”»çš„å¼€æ‹“è€…ï¼Œé«˜è¾¾ä»¥å…¶ç‹¬ç‰¹çš„ä¸–ç•Œè§‚å’Œç²¾å¯†çš„ç§‘æŠ€è®¾å®šèµ¢å¾—äº†å…¨çƒç²‰ä¸çš„å–œçˆ±ã€‚
                </p>
                <p class="fs-5 mb-3 section-desc"> <!-- Added .section-desc -->
                    æ¯ä¸ªç³»åˆ—éƒ½æœ‰å…¶ç‹¬ç‰¹çš„èƒŒæ™¯æ•…äº‹å’Œæœºä½“è®¾è®¡ï¼Œä»å®‡å®™ä¸–çºªï¼ˆUCï¼‰çš„åˆä»£é«˜è¾¾ï¼Œåˆ°åæ¥çš„SEEDã€00ã€Wã€é“è¡€ç­‰ç³»åˆ—ï¼Œéƒ½å±•ç°äº†ä¸°å¯Œå¤šå½©çš„é«˜è¾¾ä¸–ç•Œã€‚
                </p>
                 <p class="fs-5 section-desc"> <!-- Added .section-desc -->
                    Mobile Suit Gundam (æœºåŠ¨æˆ˜å£«é«˜è¾¾ Kido Senshi Gandamu), often shortened to Gundam, is a Japanese military science fiction media franchise/media mix. Created by Yoshiyuki Tomino and Sunrise, the franchise features giant robots, or mecha, with the name "Gundam."
                </p>
            </div>
            <div class="col-lg-5 mt-4 mt-lg-0">
                <a href="{{ url_for('main.uc_showroom') }}" class="text-decoration-none d-block showroom-link-uc"> <!-- Placeholder link, will need a route -->
                    <div class="introduction-image-container mx-auto position-relative"> <!-- Added position-relative for play button -->
                        <img src="{{ url_for('static', filename='images/index/rx782jianjie1.png') }}"
                             alt="RX-78-2 Gundam Introduction"
                             class="intro-image image-default">
                        <img src="{{ url_for('static', filename='images/index/rx782jianjie2.png') }}"
                             alt="RX-78-2 Gundam Hover"
                             class="intro-image image-hover">
                        <!-- Play button to be added by JS or styled with CSS -->
                        <div class="play-button-overlay">
                            <i class="fas fa-play fa-3x"></i> <!-- Font Awesome play icon -->
                        </div>
                        <div class="image-caption-uc text-center">
                            å®‡å®™ä¸–çºªç¼–å¹´å²â€”â€”æ¢ç´¢UCç™¾å¹´å†å²
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- æ·»åŠ å¼•å¯¼å…ƒç´  -->
        <div class="series-guide-wrapper">
            <span class="series-guide-text">é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„ç³»åˆ—</span>
            <i class="fas fa-chevron-down guide-arrow"></i>
        </div>

        <!-- Series Overview Section Content - REPLACED WITH NEW SHOWROOM CARDS -->
        <div class="row justify-content-center gx-4 gy-5 mt-5 showroom-cards-container">
            <!-- SEED Showroom Card -->
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch">
                <a href="{{ url_for('main.seed_showroom') }}" class="text-decoration-none w-100 vertical-showroom-link">
                    <div class="card vertical-showroom-card h-100">
                        <div class="card-img-top-container position-relative">
                            <img src="{{ url_for('static', filename='images/index/seed_series.jpg') }}" class="card-img-top" alt="SEED Series Showroom">
                            <div class="play-button-overlay-vertical"><i class="fas fa-play fa-2x"></i></div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title showroom-card-title">æœºåŠ¨æˆ˜å£«é«˜è¾¾ SEED</h5>
                            <p class="card-text showroom-card-caption">äº†è§£C.E.çºªå…ƒçš„çº·äº‰å§‹æœ«</p>
                        </div>
                    </div>
                </a>
            </div>

            <!-- 00 Showroom Card -->
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch">
                <a href="{{ url_for('main.oo_showroom') }}" class="text-decoration-none w-100 vertical-showroom-link">
                    <div class="card vertical-showroom-card h-100">
                        <div class="card-img-top-container position-relative">
                            <img src="{{ url_for('static', filename='images/index/00_series.jpg') }}" class="card-img-top" alt="00 Series Showroom">
                            <div class="play-button-overlay-vertical"><i class="fas fa-play fa-2x"></i></div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title showroom-card-title">æœºåŠ¨æˆ˜å£«é«˜è¾¾ 00</h5>
                            <p class="card-text showroom-card-caption">æ¢ç´¢å¤©äººç»„ç»‡çš„æ­¦åŠ›ä»‹å…¥</p>
                        </div>
                    </div>
                </a>
            </div>

            <!-- W Showroom Card -->
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch">
                <a href="{{ url_for('main.w_showroom') }}" class="text-decoration-none w-100 vertical-showroom-link">
                    <div class="card vertical-showroom-card h-100">
                        <div class="card-img-top-container position-relative">
                            <img src="{{ url_for('static', filename='images/index/w_series.jpeg') }}" class="card-img-top" alt="W Series Showroom">
                            <div class="play-button-overlay-vertical"><i class="fas fa-play fa-2x"></i></div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title showroom-card-title">æ–°æœºåŠ¨æˆ˜è®°é«˜è¾¾ W</h5>
                            <p class="card-text showroom-card-caption">è§è¯æ®–æ°‘å«æ˜Ÿçš„æµæ˜Ÿè¡ŒåŠ¨</p>
                        </div>
                    </div>
                </a>
            </div>

            <!-- IBO Showroom Card -->
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch">
                <a href="{{ url_for('main.ibo_showroom') }}" class="text-decoration-none w-100 vertical-showroom-link">
                    <div class="card vertical-showroom-card h-100">
                        <div class="card-img-top-container position-relative">
                            <img src="{{ url_for('static', filename='images/index/ibo_series.jpeg') }}" class="card-img-top" alt="IBO Series Showroom">
                            <div class="play-button-overlay-vertical"><i class="fas fa-play fa-2x"></i></div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title showroom-card-title">é“è¡€çš„å¥¥å°”èŠ¬æ–¯</h5>
                            <p class="card-text showroom-card-caption">è¿½éšé“åå›¢çš„å¥‹æˆ˜ä¹‹è·¯</p>
                        </div>
                    </div>
                </a>
            </div>
        </div> <!-- End of .row for showroom cards -->
    </div> <!-- End of .container py-5 (the new shared container) -->
</section>

{% endblock %}

{% block scripts %}
{{ super() }}
<script>
document.addEventListener('DOMContentLoaded', function () {
    // Ensure tsParticles is loaded before trying to use it
    if (window.tsParticles) {
        console.log("tsParticles library found. Initializing particles for homepage.");
        window.tsParticles.load("tsparticles", {
            fpsLimit: 60,
            interactivity: {
                events: {
                    onHover: {
                        enable: true,
                        mode: "grab"
                    },
                    onClick: {
                        enable: true,
                        mode: "push"
                    },
                    resize: true
                },
                modes: {
                    grab: {
                        distance: 140,
                        links: { // Changed from line_linked to links for modern tsParticles
                            opacity: 1
                        }
                    },
                    bubble: {
                        distance: 400,
                        size: 40,
                        duration: 2,
                        opacity: 0.8
                    },
                    repulse: {
                        distance: 200,
                        duration: 0.4
                    },
                    push: {
                        particles_nb: 4
                    },
                    remove: {
                        particles_nb: 2
                    }
                }
            },
            particles: {
                number: {
                    value: 80,
                    density: {
                        enable: true,
                        value_area: 800
                    }
                },
                color: {
                    value: "#00ffff" // Cyan
                },
                shape: {
                    type: "circle",
                },
                opacity: {
                    value: 0.5,
                    // random and anim for opacity are deprecated or changed structure
                    // For random opacity over time, use opacity.animation
                },
                size: {
                    value: 3,
                    random: true, // shorthand for size.random.enable = true
                    // anim for size is deprecated or changed structure
                    // For random size over time, use size.animation
                },
                links: {
                    enable: true,
                    distance: 150,
                    color: "#00ffff", // Cyan links
                    opacity: 0.4,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 2,
                    direction: "none",
                    random: false,
                    straight: false,
                    outModes: { // Changed from out_mode to outModes (plural and object)
                        default: "out"
                    },
                    attract: {
                        enable: false,
                        rotateX: 600,
                        rotateY: 1200
                    }
                }
            },
            detectRetina: true,
            background: {
                color: 'transparent' // Ensure particles container has transparent background
            }
        }).then(container => {
            console.log("tsParticles container initialized successfully for homepage:", container);
        }).catch(error => {
            console.error("Error initializing tsParticles for homepage:", error);
        });
    } else {
        console.error("tsParticles library not found on window object.");
    }
});

// é¦–é¡µéŸ³æ•ˆå¤„ç† - èƒŒæ™¯éŸ³ä¹ç”±éŸ³ä¹æ§åˆ¶å™¨ç»Ÿä¸€ç®¡ç†
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸ  Index page loaded - background music handled by music controller');
    
    // ä¸ºSTART NOWæŒ‰é’®æ·»åŠ ä¸“ç”¨éŸ³æ•ˆ
    const startBtn = document.getElementById('startNowBtn');
    if (startBtn) {
        startBtn.addEventListener('click', function() {
            if (window.audioManager) {
                window.audioManager.playStartButtonSound();
                console.log('ğŸš€ START NOW button clicked with sound effect');
            }
        });
    }
});
</script>
{% endblock %} 